"use strict";(()=>{var Ot=Object.create;var de=Object.defineProperty;var _t=Object.getOwnPropertyDescriptor;var Tt=Object.getOwnPropertyNames;var Mt=Object.getPrototypeOf,Nt=Object.prototype.hasOwnProperty;var Dt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Lt=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Tt(t))!Nt.call(e,n)&&n!==r&&de(e,n,{get:()=>t[n],enumerable:!(o=_t(t,n))||o.enumerable});return e};var ue=(e,t,r)=>(r=e!=null?Ot(Mt(e)):{},Lt(t||!e||!e.__esModule?de(r,"default",{value:e,enumerable:!0}):r,e));var Z=Dt((be,Pe)=>{(function(e){var t;if(typeof define=="function"&&define.amd&&(define(e),t=!0),typeof be=="object"&&(Pe.exports=e(),t=!0),!t){var r=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=r,o}}})(function(){function e(){for(var o=0,n={};o<arguments.length;o++){var i=arguments[o];for(var a in i)n[a]=i[a]}return n}function t(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(o){function n(){}function i(c,s,l){if(!(typeof document>"u")){l=e({path:"/"},n.defaults,l),typeof l.expires=="number"&&(l.expires=new Date(new Date*1+l.expires*864e5)),l.expires=l.expires?l.expires.toUTCString():"";try{var w=JSON.stringify(s);/^[\{\[]/.test(w)&&(s=w)}catch{}s=o.write?o.write(s,c):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var x="";for(var I in l)l[I]&&(x+="; "+I,l[I]!==!0&&(x+="="+l[I].split(";")[0]));return document.cookie=c+"="+s+x}}function a(c,s){if(!(typeof document>"u")){for(var l={},w=document.cookie?document.cookie.split("; "):[],x=0;x<w.length;x++){var I=w[x].split("="),g=I.slice(1).join("=");!s&&g.charAt(0)==='"'&&(g=g.slice(1,-1));try{var $=t(I[0]);if(g=(o.read||o)(g,$)||t(g),s)try{g=JSON.parse(g)}catch{}if(l[$]=g,c===$)break}catch{}}return c?l[c]:l}}return n.set=i,n.get=function(c){return a(c,!1)},n.getJSON=function(c){return a(c,!0)},n.remove=function(c,s){i(c,"",e(s,{expires:-1}))},n.defaults={},n.withConverter=r,n}return r(function(){})})});var A="3.90.0";var q=()=>typeof localStorage!==void 0?localStorage.getItem("marketing_client_debug")==="true":!1,Ut=()=>new Date().toUTCString(),me=(e,t,r)=>{if(q()){let o=console[e];console.groupCollapsed(`MC:${A} ${Ut()} ${t}`),r.forEach(n=>o(n)),console.groupEnd()}},d=(e,...t)=>{me("info",e,t)};function v(e){me("error","\u{1F6A8} mc.js internal error",[e])}var pe=e=>{let{application:{view:t}}=e,r=window.location.pathname?.split("/")?.pop()||"";return typeof localStorage!==void 0&&t==="evo order confirmation"?localStorage.getItem("evo-order-event")===r:!1};var fe=(e,t)=>{let{event:r}=e;sessionStorage.setItem("double-firing-event",`${r}|${t}`)};var jt=(e,t,r)=>{let o=t.split("|"),n=r-parseInt(o[1],10);return o[0]===e&&n<50},ge=e=>{let{event:t}=e,r=Date.now();return typeof sessionStorage!==void 0&&jt(t,sessionStorage.getItem("double-firing-event")||"",r)?(sessionStorage.removeItem("double-firing-event"),!0):(fe(e,r),!1)};var U=()=>window.location.hostname.includes("gs-checkout")?"Y":"N";var ve=(e,t)=>U()==="Y"?"mc":t==="onCheckoutViewed"||t==="onOrderCompleted"?e.source?"mc":"dcm":e?.source||"";var ye=e=>{let t=e.application?.country?.toLowerCase()??"",r=e.application?.device??"",o=e.application?.language??"",n=window?.navigator?.userAgent??"",i=e.application?.view??"";return{country:t,device:r,language:o,userAgent:n,view:i}};var j=e=>e.find(({category:r})=>r==="adtargeting_hashedmatch")?.isEnabled||!1;var N={COOKIE_NAME:"geoloc",COUNTRY_KEY:"cc"},J={queryParam:"geolocCountry",ccAlias:"country"};function E(e){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(e)}function he(e,t){if(E(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(E(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function we(e){var t=he(e,"string");return E(t)=="symbol"?t:t+""}function Y(e,t,r){return(t=we(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=".nike.com",X=".nikecloud.com",Ht=".converse.com";var Ee="https://www",Jr="https://store".concat(O),Yr="https://secure-store".concat(O),Xr="https://api".concat(O),Gt="".concat(Ee).concat(O),Zr="".concat(Ee).concat(Ht),Qr="https://uxtesting.prod.commerce".concat(X),eo="https://experience.prod.commerce".concat(X),to="https://experience.test.commerce".concat(X),ro="".concat(Gt,"/assets");function Ce(e){if(Array.isArray(e))return e}function ke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,n,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(c.push(o.value),c.length!==t);s=!0);}catch(w){l=!0,n=w}finally{try{if(!s&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return c}}function Q(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function xe(e,t){if(e){if(typeof e=="string")return Q(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}function Ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Re(e,t){return Ce(e)||ke(e,t)||xe(e,t)||Ie()}function Se(e){return e.split(",").reduce(function(t,r){var o=r.split("="),n=Re(o,2),i=n[0],a=n[1];return t[i]=a,t},{})}var Oe=ue(Z());var Bt=N.COOKIE_NAME,_e=function(){return Oe.default.get(Bt)};var Te=N.COOKIE_NAME,Vt=N.COUNTRY_KEY,So=J.queryParam,Kt=J.ccAlias,Me="geoloc cookie not set";function Ne(e){var t=Se(e);return Object.defineProperty(t,Kt,{configurable:!0,get:function(){return this[Vt]}}),t}function Ft(e){return e&&E(e.cookies)!=="object"?console.warn("No cookies object found to parse"):e.cookies[Te]?Ne(e.cookies[Te]):console.warn(Me)}function ee(e){if(e)return Ft(e);var t=_e();return t?Ne(t):(console.warn(Me),t)}var te=ue(Z()),De=function(){return{get:function(r){return te.default.get(r)},set:function(r,o,n){te.default.set(r,o,n)}}},Le={createInstance:function(t){return{get:function(o){return De().get(o)},set:function(o,n){De().set(o,n,t)}}}};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ae(Object(r),!0).forEach(function(o){Y(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var Ue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Le.createInstance(zt({domain:t.domain||O,expires:new Date(new Date().getTime()+864e5)},t));return{get:function(n){return r.get(n)},set:function(n,i){r.set(n,i)}}},je=function(t,r,o){return Ue(o).set(t,r)},re=function(t,r){return Ue(r).get(t)};var b=function(e,t){return function(){var o,n;if((o=window)!==null&&o!==void 0&&(n=o.webShellClient)!==null&&n!==void 0&&n.privacy&&window.webShellClient.privacy[e]){var i;return(i=window.webShellClient.privacy)[e].apply(i,arguments)}return t.apply(void 0,arguments)}};var oe="sq",_={UNSET:{allowPerformance:null,allowMarketing:null},0:{allowPerformance:!1,allowMarketing:!1},1:{allowPerformance:!0,allowMarketing:!1},2:{allowPerformance:!1,allowMarketing:!0},3:{allowPerformance:!0,allowMarketing:!0}},Wt={AT:"Austria",BE:"Belgium",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IE:"Ireland, Republic of (EIRE)",IT:"Italy",LV:"Latvia",LT:"Lithuania",LU:"Luxembourg",MT:"Malta",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",CH:"Switzerland",GB:"United Kingdom"},He=b("isCookieRequiredCountry",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return!!Wt[e.toUpperCase()]}),ne=[],C=b("getPreferences",function(e,t){var r=re(oe,t),o=ee()||{},n=o.cc||e,i=!!n;if(!r)return!i||He(n)?_.UNSET:_[3];if(_[r])return _[r];throw new Error("unknown value for privacy cookie: ".concat(r))}),$t=b("addInitialPreferenceListener",function(e){ne.push(e)}),qt=b("getInitialPreferenceListeners",function(){return ne}),Jt=b("isMarketingAllowed",function(e,t){return C(e,t).allowMarketing}),Yt=b("isPerformanceAllowed",function(e,t){return C(e,t).allowPerformance}),Ge=b("isPreferenceSet",function(e){return typeof re(oe,e)<"u"}),Xt=b("setPreferences",function(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,n=!Ge(r),i=0;i<=3;i+=1)if(_[i].allowPerformance===e&&_[i].allowMarketing===t){je(oe,i,r);break}return n&&ne.forEach(function(a){return a()}),C(o,r)});var f=e=>{let t=e.find(({category:r})=>r==="adtargeting_behavioralevents");return t?t.isEnabled:C().allowMarketing};var p=e=>{let t=e.find(({category:r})=>r==="performance");return t?t.isEnabled:C().allowPerformance};var Zt=async e=>{let t=new window.Blob([e],{type:"utf-8"}),r=await new Response(t).arrayBuffer();return new Uint8Array(r)},Qt=e=>Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join(""),k=async e=>{if(!e)return"";let t=await Zt(e),r=await window.crypto.subtle.digest("SHA-256",t);return Qt(r)};var R=e=>{if(!e)return"";let t=new URL(e);return t.search="",t.toString()};var er="714737",tr="2lrxTiTBk6-5ot3iFiVRFwzX40tQTtw7",rr="f6e2d580c7",or=`https://insights-collector.newrelic.com/v1/accounts/${er}/events`;function H(e){let{newrelic:t=null}=window;d("\u23E3 NewRelic Egress Data \u23E3",e),t&&t.loader_config&&t.loader_config.licenseKey===rr&&t.addPageAction("AdtechMarketingEvent",e),fetch(or,{method:"POST",headers:{"Content-Type":"application/json","X-Insert-Key":tr},body:JSON.stringify({eventType:"AdtechMarketingClientEvent",...e})})}function y(e,t={event:"marketingClientErrorEvent",windowHREF:R(window.location.href)}){let{newrelic:r=null}=window;r&&r.noticeError&&r.noticeError(e,t);let o={...t,errorMessage:e?.message,errorStack:e?.stack};q()&&(console.error("Error",e),console.error("Error NR event",o)),H(o)}var Be=()=>window?.NikePrivacy?.isEnabled?"nike-privacy-core":"ux-tread-privacy";function S(e,t){let r={event:"marketingClientEvent",memberEvent:e,referer:R(document.referrer),signInFlow:t,windowHREF:R(window.location.href)};H(r)}function Ve(e){let{application:{country:t,view:r},filter:o,consumer:{allowsPerformance:n},scriptSource:i,event:a,eventId:c}=e,s={event:"marketingClientEvent",eventName:a,country:t,eventId:c,isEVO:U(),privacyType:Be(),scriptSource:i,filter:o,windowHREF:R(window.location.href),referer:R(document.referrer),version:A,view:r};n&&H(s)}var h=()=>window?.NikePrivacy?.permissions?.get()||[];var G=async()=>{let e=h();try{let t=await window?.webShellClient?.identity?.getUserProfile()||{};return t?.signInFlow==="JOIN"&&(localStorage.setItem("adtech_member_joined","true"),p(e)&&S("webshell-sign-in-flow",t.signInFlow),localStorage.getItem("adtech_member_joined_count")||(p(e)&&S("member-sign-in-flow",t.signInFlow),localStorage.setItem("adtech_member_joined_count","1"))),{email:t.email||"",mobileNumber:t.mobileNumber||"",signInFlow:t.signInFlow||"",registeredCountry:t.registeredCountry||"",userType:t.userType||""}}catch(t){return v(t),t instanceof Error&&p(e)&&y(t),{email:"",mobileNumber:"",registeredCountry:"",signInFlow:"",userType:""}}};var nr=async e=>({hashedEmail:await k(e.email.toLowerCase().trim())||"",loggedIn:"Y",memberEmail:e.email,memberLocation:e.registeredCountry,mobileNumber:e.mobileNumber,memberType:e.userType}),Ke=async()=>{let e={hashedEmail:"",loggedIn:"N",memberEmail:"",memberLocation:"",mobileNumber:"",memberType:""},t=await G();return t.email?await nr(t):e};function ie(e){return e.replace(/[^\d]/g,"")}var Fe=async e=>{let t=await Ke(),r=e.consumer?.customerEmail??"",o=await k(r),n=e.consumer?.customerPhoneNumber?ie(e.consumer?.customerPhoneNumber):"",i=t?.mobileNumber?ie(t.mobileNumber):"",a=await k(n),c=await k(i),s=h();return{allows1PA:j(s),allowsBehavioral:f(s),allowsPerformance:p(s),email:t.memberEmail||r,hashedEmail:t.hashedEmail||o,hashedPhoneNumber:c||a,loggedIn:t.loggedIn,memberLocation:t.memberLocation,memberType:t.memberType.toUpperCase()}};var B,ir=new Uint8Array(16);function ae(){if(!B&&(B=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!B))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return B(ir)}var u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));function ze(e,t=0){return u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]}var ar=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ce={randomUUID:ar};function cr(e,t,r){if(ce.randomUUID&&!t&&!e)return ce.randomUUID();e=e||{};let o=e.random||(e.rng||ae)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){r=r||0;for(let n=0;n<16;++n)t[r+n]=o[n];return t}return ze(o)}var D=cr;var V=e=>{let t=e?.event||e?.eventName,r=e?.application?.view||"",o=["gridwall","launch-feed","launch-in-stock","launch-upcoming"],n=["pdp","launch-pdp"];switch(t){case"cartViewed":return"onCartViewed";case"onLoad":if(o.includes(r))return"onProductListViewed";if(n.includes(r))return"onProductViewed";case"landingPageViewed":return"onLandingPageViewed";case"colorChange":return"onColorChange";case"sizeSelect":return"onSizeSelect";case"addToCart":return"onProductAdded";case"productAdded":return"onProductAdded";case"memberJoined":return"onMemberJoined";case"registrationPageViewed":return"onRegistrationViewed";default:break}switch(r){case"cart":return"onCartViewed";case"checkout":return"onCheckoutViewed";case"checkout type":return"onCheckoutViewed";case"order confirmation":return"onOrderCompleted";case"evo order confirmation":return"onOrderCompleted";case"order review":return"onCheckoutViewed";case"payment":return"onCheckoutViewed";case"shipping":return"onCheckoutViewed";case"evo checkout":return"onCheckoutViewed";case"homepage":return"onLandingPageViewed";case"landing page":return"onLandingPageViewed";case"editorial":return"onLandingPageViewed";case"memberJoined":return"onMemberJoined";default:break}return""};var We=e=>{let t=V(e);return{eventId:D(),event:t}};var $e=e=>({filter:e.filters?.sortBy??""});function qe(e){return e?Array.isArray(e)&&e.length&&e[0]!==void 0?e:Array.isArray(e)?[]:Object.values(e).map(t=>t.code):[]}function Je(e){return e?{ae:"AED",at:"EUR",au:"AUD",be:"EUR",bg:"BGN",ca:"CAD",ch:"CHF",cl:"CLP",cn:"CNY",cz:"EUR",de:"EUR",dk:"DKK",eg:"EGP",es:"EUR",fi:"EUR",fr:"EUR",gb:"GBP",gr:"EUR",hk:"CNY",hr:"EUR",hu:"EUR",id:"IDR",ie:"EUR",il:"ILS",in:"INR",it:"EUR",kr:"KRW",jp:"JPY",lu:"EUR",ma:"MAD",mx:"MXN",my:"MYR",nl:"EUR",no:"NOK",nz:"NZD",ph:"PHP",pl:"PLN",pr:"USD",pt:"EUR",ro:"RON",ru:"RUB",sa:"SAR",se:"SEK",sg:"SGD",si:"EUR",sk:"EUR",th:"THB",tr:"TRY",tw:"TWD",us:"USD",vn:"VND",za:"ZAR"}[e.toLowerCase()]:""}var Ye=async(e,t)=>{let r=Je(t),o=e.order?.discount??0,n=e.order?.orderId??"",i=await k(n),a=qe(e.order?.promoCodeList),c=e.order?.shipping??0,s=e.order?.subtotal??0,l=e.order?.tax??0,w=e.order?.total??0;return{currencyCode:r,discount:o,hashedOrderId:i,orderId:n,promoCodeList:a,shipping:c,subtotal:s,tax:l,total:w}};var Xe=(e,t)=>{let r=window.location.origin==="https://www.nike.com.cn"?"https://product-proxy.adtech-prod.nikecloud.com.cn/products":"https://product-proxy-v2.adtech-prod.nikecloud.com/products";return!e.length||t===void 0?Promise.resolve([]):fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({experienceProducts:e,country:t})}).then(o=>o.json()).then(o=>(d("\u{1F45F} Product Data",o),o.hydratedProducts??[])).catch(o=>{v(o);let n=new Error(`Cloud Product Data Error: ${o instanceof Error?o.message:String(o)}`);return y(n,{event:"marketingClientErrorEvent",windowHREF:window.location.href,experienceProducts:e,country:t}),[]})};var Ze=(e,t)=>t.currentPrice*e.quantity;var Qe=(e=[],t=[])=>Array.from(new Set([...Array.isArray(e)?e:[],...Array.isArray(t)?t:[]]));var et=(e,t)=>{let r=t?.skuData??[],o={size:e?.size??"",sku:e?.sku??"",gtin:e?.gtin??""},n={size:r.length?r[0].size:"",sku:r.length?r[0].sku:"",gtin:r.length?r[0].gtin:""};return r.length?r.find(({size:i})=>i===o.size)??n:o};var tt=(e,t)=>t.length&&!e.length?t:!t.length&&!e.length?[]:t.map(o=>{let n=e.find(({cloudProductId:i})=>i===o.cloudProductId);if(n){let i={...o,...n,genders:Qe(o.genders,n.genders),...et(o,n),currentPrice:o.currentPrice===0?n.currentPrice:o.currentPrice,id:o.id?o.id:n.prodigyId,fullPrice:o.fullPrice===0?n.fullPrice:o.fullPrice,currentPriceTotal:o.currentPriceTotal===0?Ze(o,n):o.currentPriceTotal},{skuData:a,prodigyId:c,...s}=i;return s}return o});function sr(e){switch(e){case"OOS":return"Fouts";case"LOW":return"Miller";case"MEDIUM":return"Dixon";case"HIGH":return"Mariota";default:return""}}function lr(e){let t=e.objects.map(o=>o.level),r={};return t.forEach(o=>{r[o]=(r[o]||0)+1}),r}function dr(e){let t=["GB","AT","FR","IT","DE","ES","BE","CZ","DK","FI","GR","HU","IE","LU","NL","PL","PT","SE","SI"],r=["AE","AU","BG","CA","CH","CL","EG","HR","IL","MA","NO","ZA","NZ","PR","RO","RU","SA","SK","TR"],o=["ID","IN","MY","PH","SG","TH","TW","VN"];return t.indexOf(e)>-1?"EU":r.indexOf(e)>-1?"XP":o.indexOf(e)>-1?"XA":e.toUpperCase()}function ur(e){let t=0,r="";for(let o in e)if(e[o]>t){if(o==="OOS"&&Object.keys(e).length>1)return"LOW";t=e[o],r=o}else e[o]===t&&(r==="HIGH"&&o==="MEDIUM"?r="MEDIUM":r==="HIGH"&&o==="LOW"?r="LOW":r==="MEDIUM"&&o==="HIGH"?r="MEDIUM":(r==="MEDIUM"&&o==="LOW"||r==="LOW"&&o==="MEDIUM"||r==="LOW"&&o==="HIGH")&&(r="LOW"));return r}function mr(e){let t=lr(e),r=ur(t);return sr(r)}function pr(e,t){let r=dr(t.toUpperCase()),o=window.location.origin==="https://www.nike.com.cn"?"api.nike.com.cn":"api.nike.com",n=encodeURI(`https://${o}/deliver/available_gtins/v3?filter=styleColor(${e})&filter=merchGroup(${r})`);return fetch(n,{credentials:"include"}).then(i=>i.json()).then(i=>mr(i))}function rt(e,t=[]){let r=e?.application?.country||"",o=t.filter(i=>i.cloudProductId!==null),n=V(e);if(o.length>0){let i=o.map(async a=>{if(a?.color&&r&&(n==="onProductViewed"||n==="onCartViewed"))try{let c=await pr(a.color,r);return{...a,inventoryLevel:c}}catch(c){return v(c),{...a,inventoryLevel:""}}return{...a,inventoryLevel:""}});return Promise.all(i)}return Promise.resolve([])}var ot=e=>e?.length?e.map(t=>({brand:t?.brand||"",category:t?.category||"",cloudProductId:t?.cloudProductId||"",color:t?.color||"",currentPrice:t?.currentPrice||0,currentPriceTotal:t?.currentPriceTotal||0,fullPrice:t?.fullPrice||0,genders:t?.genders||[],id:t?.id||"",inventoryLevel:t?.inventoryLevel||"",isNikeByYou:t?.isNikeByYou||!1,isOnSale:t?.isOnSale||!1,name:t?.name||"",discounts:t?.discounts||[],quantity:t?.quantity||1,size:t?.size||"",sku:t?.sku||"",gtin:t?.gtin||"",subCategory:t?.subCategory||[]})):[];var nt=async(e,t)=>{let r=ot(e.productList),o=r.filter(a=>!a.category.includes("GIFT_CARD")).filter(a=>a?.cloudProductId?.includes("-")).map(a=>({cloudProductId:a.cloudProductId,currentPrice:a.currentPrice}))??[],[n,i]=await Promise.all([rt(e,r),Xe(o,t)]);return tt(i,n)};var it=e=>{let t=0,r=0,o=0,n=0;for(let i of e){t+=i.currentPrice*i.quantity,r+=i.quantity;let a=i.discounts?.reduce((c,s)=>c+s.discountAmount,0)||0;o+=a}return n=t-o,{currentPriceTotal:t,quantityTotal:r,discountTotal:o,discountedPriceTotal:n}};var at=async e=>{let t=ye(e),[r,o,n]=await Promise.all([Fe(e),Ye(e,t.country),nt(e,t.country)]),i=it(n),{filter:a}=$e(e),{event:c,eventId:s}=We(e),l=ve(e,c);return{application:t,consumer:r,filter:a,event:c,eventId:s,order:o,productList:n,scriptSource:l,productListAggregateData:i}};var ct=(e,t,r)=>({currencyCode:r.order.currencyCode,impressions:e,items:t}),fr=(e,t)=>({detail:{products:e},items:t}),gr=(e,t,r)=>({currencyCode:r.order.currencyCode,add:{products:e},items:t}),vr=(e,t)=>({checkout:{products:e},items:t}),yr=(e,t,r)=>({currencyCode:r.order.currencyCode,purchase:{actionField:{id:r.order.orderId,coupon:Array.isArray(r.order.promoCodeList)&&r.order.promoCodeList.length?r.order.promoCodeList.join("|"):"",revenue:r.order.total,shipping:r.order.shipping,tax:r.order.tax},products:e},items:t});function st(e){let t=e.productList.map(n=>({brand:n.brand,category:n.category,id:n.id,list:e.filter,name:n.name,price:n.currentPriceTotal,quantity:n.quantity,variant:n.color})),r=e.productList.map(n=>({item_name:n.name,item_id:n.id,price:n.currentPriceTotal,item_brand:n.brand,item_category:n.category,item_variant:n.color,item_list_name:e.filter,quantity:n.quantity}));return{onProductListViewed:ct,onProductListFiltered:ct,onProductViewed:fr,onProductAdded:gr,onCheckoutViewed:vr,onOrderCompleted:yr}[e.event]?.(t,r,e)??{}}var lt=e=>{let{application:t,consumer:r,event:o,eventId:n,filter:i,order:a,productList:c,productListAggregateData:s}=e,l=st({productList:c,filter:i,event:o,order:a});return{application:t,consumer:r,ecommerce:l,event:o,eventId:n,filter:i,order:a,productList:c,productListAggregateData:s}};var dt=e=>{let t=lt(e);window.marketingClientDataLayer=window.marketingClientDataLayer||[],window.marketingClientDataLayer.push(t),d("\u{1F3F7} GTM Egress Data",t)};var hr=["ae","at","au","be","bg","ca","ch","cl","cz","de","dk","eg","es","fi","fr","gb","gr","hr","hu","id","ie","il","it","jp","lu","ma","mx","my","nl","no","nz","ph","pl","pr","pt","ro","ru","sa","se","sg","si","sk","th","tr","us","vn","za"],ut=(e,t)=>t==="us"||hr.includes(t)&&f(e);var mt=(e,t)=>{let r={...t,eventData:{...t.eventData,request:{client:"fetch"}}};return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),keepalive:!0})},wr=(e,t)=>{let r={...t,eventData:{...t.eventData,request:{client:"beacon"}}};return navigator.sendBeacon(e,JSON.stringify(r))},Er=(e,t)=>{if(!navigator.sendBeacon)return mt(e,t);let r=wr(e,t);return r||mt(e,t)},pt=e=>{try{let t="https://consumersignals.services.nike.com/consumersignals/kennedy/v1/stream",r={type:"page",anonymousID:e.anonymousId,eventData:e};d("\u{1F300} NMP-Utils Egress Data",e),Er(t,r)}catch(t){v(t),t instanceof Error&&y(t)}};var ft=e=>{let{application:{view:t}}=e,r=window.location.pathname?.split("/")?.pop()||"";typeof localStorage!==void 0&&t==="evo order confirmation"&&localStorage.setItem("evo-order-event",r)};var K=(e,t)=>{window.marketingClientDataLayer=window.marketingClientDataLayer||[];function r(o,n,i){window.marketingClientDataLayer&&window.marketingClientDataLayer.push(arguments)}r("consent",t,{ad_storage:f(e)?"granted":"denied",ad_user_data:f(e)?"granted":"denied",ad_personalization:f(e)?"granted":"denied",analytics_storage:f(e)?"granted":"denied",nike_bead:f(e)?"granted":"denied",nike_1pa:j(e)?"granted":"denied",nike_performance:p(e)?"granted":"denied"})};function m(e){if(!e)throw new Error("Invalid arguments passed into getCookie");let t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;return t&&t==="null"?null:t}function F(){let e=m("NIKE_COMMERCE_COUNTRY"),t="";if(e)t=e;else{let r=location.pathname.slice(1).split("/");r[0].length===2&&(t=r[0])}return t.toLowerCase()}var L=e=>F()==="us"||f(e);var gt=e=>({allows1PA:e?.consumer?.allows1PA||!1,allowsBehavioral:e?.consumer?.allowsBehavioral||!1,allowsPerformance:e?.consumer?.allowsPerformance||!1,currencyType:e?.order?.currencyCode||"",hashedEmail:e?.consumer?.hashedEmail||"",hashedPhoneNumber:e?.consumer?.hashedPhoneNumber||"",loggedIn:e?.consumer?.loggedIn||""});var vt=()=>window.location.href;var P=()=>new Date;var yt=(e,t)=>Math.floor(Math.random()*(t-e))+e;var z=e=>new URLSearchParams(window.location.search).get(e)||"";var T=(e,t)=>{let r=new Date(e.getTime());return r.setMonth(e.getMonth()+t),r.toUTCString()};function M(e,t,r){document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; expires=${r}; domain=.nike.com; path=/; Secure`}var br=e=>{let t=`fb.1.${P().getTime()}.${e}`;return M("_fbc",t,T(P(),3)),t},Pr=()=>{let e=`fb.1.${P().getTime()}.${yt(1e7,1e12)}`;return M("_fbp",e,T(P(),3)),e},ht=()=>{let e=z("fbclid"),t=m("_fbp"),r=m("_fbc"),o=e&&(!r||r?.split(".")[r.split(".").length-1]!==e)?br(e):r||"",n=t??Pr();return{fbcId:o,fbpId:n}};var Cr=e=>(M("_rdt_cid",e,T(P(),3)),e),kr=()=>{let e=`${P().getTime()}.${D()}`;return M("_rdt_uuid",e,T(P(),3)),e},wt=()=>{let e=z("rdt_cid"),t=m("_rdt_cid"),r=m("_rdt_uuid"),n=e&&(!t||t!==e)?Cr(e):t||"",i=r??kr();return{cid:n,uuid:i}};var Et=e=>{let t=gt(e),r=vt(),o=m("anonymousId"),n=m("_scid"),i=m("_ttp"),a=m("ttclid");return{...e,consumer:t,anonymousId:o,facebook:ht(),tiktok:{ttp:i,ttclid:a},reddit:wt(),scId:n,url:r}};var bt=async e=>{try{let t=h(),r=await at(e);if(d("\u{1F4A7} Hydrated Marketing Client Data",r),L(t)&&(K(t,"update"),dt(r)),ut(t,r.application.country)){let o=Et(r);pt(o)}ft(r),p(t)&&Ve(r)}catch(t){v(t),t instanceof Error&&y(t)}};var se=e=>{if(!e){d("\u{1F969} Raw Marketing Client Event Empty",e);return}if(ge(e)){d("\u{1F969} Raw Marketing Client Event Double Firing",e);return}if(pe(e)){d("\u{1F969} Raw Marketing Client Event Stored Evo Order Event",e);return}if(e["@nike/mc.metadata"]?.dispatchedAt){d("\u{1F969} Raw Marketing Client Event Already dispatched",e);return}e["@nike/mc.metadata"]={dispatchedAt:new Date().toISOString()},d("\u{1F969} Raw Marketing Client Event Data",e),bt({...e,"@nike/mc.metadata":void 0})};var Pt=e=>t=>r=>(d(`\u{1F35D} ${e}`,r),t(r)),Ct=()=>(window.NikeConsumerSignals||(window.NikeConsumerSignals=[]),window.NikeConsumerSignals),W=e=>{Ct().push(e)},kt=()=>{let e=window,t=Ct();t.forEach(Pt("Clearing queued events")(se)),t.push=function(...r){let{length:o}=this;return Array.prototype.push.apply(this,r),this.slice(o).forEach(Pt("Dispatching incoming event")(se)),this.length},e.marketing=W,dispatchEvent(new Event("@mc/marketing_available"))};function xr(){let e="marketingClientGTM";if(document.getElementById(e))return;let t=`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','marketingClientDataLayer','GTM-NTF2X45');`,r=document.createElement("script");r.setAttribute("id",e);let o=document.createTextNode(t);r.appendChild(o),document.getElementsByTagName("head")[0].appendChild(r)}function xt(e){try{K(e,"default"),xr()}catch(t){let r=new Error(`GTM Initialization Error: ${t instanceof Error?t.message:String(t)}`);y(r)}}function It(){let e=m("NIKE_COMMERCE_LANG_LOCALE"),t="";return e&&(t=e.toLowerCase()),t}var Ir=e=>{window?.NikeConsumerSignals?W(e):window?.marketing&&window.marketing(e)},Rt=()=>{let e=h(),t=localStorage.getItem("dcm_member_joined_success"),r=localStorage.getItem("adtech_member_joined"),o=localStorage.getItem("adtech_member_joined_count"),n={application:{view:"memberJoined",country:F(),language:It()},eventName:"memberJoined"},i={detail:n};t==="true"&&(p(e)&&S("legacy-neo"),localStorage.removeItem("dcm_member_joined_success"),document.documentElement.dispatchEvent(new CustomEvent("neo",i))),r==="true"&&o==="1"&&(window?.marketing||window?.NikeConsumerSignals)&&(p(e)&&S("webshell-window.marketing"),localStorage.setItem("adtech_member_joined_count","0"),Ir(n)),r==="true"&&o==="1"&&!window?.marketing&&(p(e)&&S("webshell-neo"),localStorage.setItem("adtech_member_joined_count","0"),document.documentElement.dispatchEvent(new CustomEvent("neo",i))),localStorage.removeItem("adtech_member_joined")};var le=h();L(le)&&xt(le);kt();G().then(e=>{e?.signInFlow==="JOIN"&&L(le)&&Rt()});})();
/*! Bundled license information:

js-cookie/src/js.cookie.js:
  (*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   *)
*/
